(function(b){var g=window.AmazonUIPageJS||window.P,k=g._namespace||g.attributeErrors,f=k?k("F3GLOWAssets",""):g;f.guardFatal?f.guardFatal(b)(f,window):f.execute(function(){b(f,window)})})(function(b,g,k){b.when("f3-glow-utils","url-utils","constants","window-utils").register("f3-glow-manager",function(b,e,a,h){var c=function(){var d="true"===e.getUrlParameter(a.OPEN_GLOW),c=e.getUrlParameter(a.ACTIVE_TAB),f=e.getUrlParameter(a.STORE_CONTEXT);return d&&null!==c?(b.openGlowToActiveTab(c,f),h.ue.count(a.OPENING_GLOW_METRIC,
1),!0):d?(b.openGlowToActiveTab(a.DELIVERY,f),h.ue.count(a.OPENING_GLOW_METRIC,1),!0):!1};if(c()){var d=e.getUrlWithoutParameters(a.OPEN_GLOW,a.ACTIVE_TAB,a.STORE_CONTEXT);g.history.replaceState(null,null,d)}return{openGlowGivenUrlParameters:c}});"use strict";b.register("constants",function(){return{OPEN_GLOW:"openGlow",ACTIVE_TAB:"activeTab",GLOW_CLASS_NAME:"#nav-global-location-slot",STORE_CONTEXT:"storeContext",DELIVERY:"deliveryTab",WAITING_FOR_STORE_CONTEXT_EVENT:"glow.waitingForStoreContext",
STORE_CONTEXT_EVENT:"glow.storeContext",GLUX_BOTTOMSHEET_NAME:"glux_bottom_sheet",GET_ADDRESS_SELECTIONS_ENDPOINT:"/gp/glow/get-address-selections.html",GLOW_BOTTOMSHEET_ID:"#glow-bottom-sheet",OPENING_GLOW_METRIC:"f3glowassets.glow.open"}});"use strict";b.when("A","mash","constants").execute(function(f,e,a){function h(a){var d=!1;b.now(a).execute(function(a){d=!!a});return d}e.addEventListener(a.STORE_CONTEXT_EVENT,function(a){h("store-context")||b.register("store-context",function(){return{getStoreContext:function(){return a.detail.storeContext}}})});
e.dispatchEvent({type:a.WAITING_FOR_STORE_CONTEXT_EVENT})});"use strict";b.when("A").register("addressSelectionsConstants",function(b){return{REQUEST_TYPE:"GET",ENDPOINT:"/portal-migration/hz/glow/get-rendered-address-selections"}});"use strict";b.when("A","a-modal","constants").register("f3-glow-utils",function(f,e,a){return{openGlowToActiveTab:function(h){var c=f.$(a.GLOW_CLASS_NAME),d=e.get(c);if(null===d||0===c.length)b.log("Unable to get GLOW on Desktop","ERROR","F3GLOWAssets");else try{var g=
d.attributes.url;d.attributes.url+="\x26"+a.ACTIVE_TAB+"\x3d"+h;d.show();d.attributes.url=g}catch(l){b.log("Unable to open GLOW on Desktop: "+l,"ERROR","F3GLOWAssets")}}}});"use strict";b.when("A","window-utils").register("url-utils",function(b,e){return{getUrlParameter:function(a){a=(new RegExp("[?\x26]"+a+"\x3d([^\x26#]*)")).exec(e.location.href);return null===a?null:decodeURI(a[1])||0},getUrlWithoutParameters:function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return b.reduce(function(a,
b){var d=a.split("?")[0];a=-1!==a.indexOf("?")?a.split("?")[1]:"";if(""!==a){var c=a.split("\x26");for(var e=c.length-1;0<=e;--e)a=c[e].split("\x3d")[0],a===b&&c.splice(e,1);d=d+"?"+c.join("\x26")}return d},e.location.href)}}});"use strict";b.when("A").register("window-utils",function(){return{ue_pty:g.ue_pty,location:{href:g.location.href},ue:{count:g.ue.count}}})});